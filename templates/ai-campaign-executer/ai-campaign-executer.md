---
title: AI Campaign Executer
permalink: /templates/ai-campaign-executer/
---

* TOC
{:toc}

Revamp your marketing strategy with our template. It seamlessly utilizes Shopify data to create personalized campaigns. 
Our AI crafts customized SMS messages sent via Twilio, engaging your customers effectively. Elevate your marketing with AI precision. 
The template consists of two flows, where the first flow can be considered a data preparation phase, while the second would be the execution one.

**Flow 1, in a nutshell:**

{: .image-popup}
![Flow 1](/templates/ai-campaign-executer/flow1.png)

- First you will setup a component that will extract the data from your Shopify account. You only need to insert login credentials to your Shopify account, while the component extracts all the data needed.
- The Transformation is already pre-defined for you and will create a dataset containing customer contact information and products to be recommended to each of them.
- The AI app utilizes the data created by the above mentioned transformation and generates a customized SMS message for them.
- The Transformation second creates two new tables from an existing table, with some column renaming and the addition of an "approved" column in the second table, which is initialized with a value of "false" for all rows.
- Data is sent into the Data App, where the user can review the messages generated and approve the ones for campaign execution. 

**Flow 2, in a nutshell:**

{: .image-popup}
![Flow 2](/templates/ai-campaign-executer/flow2.png)

Once the user has selected the messages for sending and clicked on **Upload to Keboola** button within the data app, 
flow 2 is triggered automatically to send the data to Twilio.

Entity Relationship Diagram
An entity-relationship diagram is a specialized graphic that illustrates the relationships between entities in a data destination. LINK NA DIAGRAM


Table Description
ORDER	Contains data about fulfilled orders of the customers and details of the orders etc.
CUSTOMER	Contains contact details of individual customers, their marketing preferences, total spent etc. 
LINE-ITEM	Contains data about individual items on stock, their prices, stock availability etc.
PRODUCT	Contains data about individual products offered, their description, product images etc.
Data Sources
Shopify
Data Destinations
Twilio

How to Use Template
The process is simple. We will guide you through it, and, when needed, ask you to provide your credentials and authorize the destination component.


First decide which data source and which data destination you want to use. Then select the corresponding template from the Templates tab in your Keboola Connection project. When you are done, click + Use Template.

This page contains information about the template. Click + Use Template again.

Youâ€™ll be asked to write a name for the template instance you are about to create. You can use the template as many times as you want and still keep everything organized.


Component descriptions:
Shopify Extractor
The component is set up to extract all the data tables, such as: [customer], [inventory-items], [inventory-levels], [line-item], [locations], [order], [product], [product-images], [product-options], [product-variant].
SQL Transformation
The transformation is configured to create a table with following columns [customer_id], [name] (equals to first name of the customer), [phone] (equals to a phone number of the customer), [count] (equals to number of products purchased), [title] (equals to the name of the product), [body_html] (equals to description of the product). The data will be prepared for further step of the process - personalized AI-generated messages to the customers on specific products.
Generative AI personalize SMS campaign
Once authenticated to your AI provider, the component utilizes AI to generate a short and informal email campaign tailored for users of the online store. It dynamically incorporates the user's name ([[Customer_Name]]) and recommends a selection of products ([[Product_1]], [[Product_2]], [[Product_3]], [[Product_4]], [[Product_5]]), all while adding emoticons to create a personalized and engaging message for each recipient.
Twilio campaign maker
The component connects to the Twilio service and sends data from the storage, where personalized text messages were generated by an AI and added to the contact information of the customers. 
The component utilizes AI to generate a short and informal email campaign tailored for users of the Kopr online store. It dynamically incorporates the user's name ([[Customer_Name]]) and recommends a selection of products ([[Product_1]], [[Product_2]], [[Product_3]], [[Product_4]], [[Product_5]]), all while adding emoticons to create a personalized and engaging message for each recipient.
In order to authorize the component, you will need to input an Account SID, Authentication Token, Messaging Service SID and whether or not you wish to generate a log after sending the messages (true/false).

Authorizing Data Sources
To use the selected data source component, you must authorize it first. 

Shopify 

To enable this application, you must:
Enable private app development for your store.
Create a private application.
Enable Read access ADMIN API PERMISSIONS for the following objects:
Orders
Products
Inventory
Customers
Additional documentation is available here.

Authorizing Application

Choose your AI service Provider and enter your API key
Authorizing Data Destination

The component is required to have at least one table in the input table mapping. If more the one tables are configured in the input table mapping, the component will loop through all of the input tables and process all the rows sending out the configured messages to the assigned numbers.
Input Mapping Requirements
All tables are required to have the following columns
Required Columns
phone_number
message

Configuration Parameters
Account SID
Can be found in the Console
Authentication Token
Can be found in the Console
Messaging Service SID
Can be created via Messaging Service in the Console
The purpose of this service is to define the service identity
Output Log
Users have the options to output a log of the list of messages and targets sent out using this application.
