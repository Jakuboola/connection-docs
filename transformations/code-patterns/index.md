---
title: Code Patterns
permalink: /transformations/code-patterns/
---

* TOC
{:toc}

Code Pattern is a special type of the [Component](/components/).
- It generates code based on [parameters](#parameters-form).
- It can be used in the user interface of the [New Transformations](/transformations/#new-transformations).


## List of the Code Patterns

In the [Keboola Developer Portal](https://components.keboola.com/components) can be found
published components with the **Code Pattern type**.
In the description you can find out for which transformation types can be component used.

{: .image-popup}
![Screenshot -- Transformations page](/transformations/code-patterns/overview-0-dev-portal.png)

## New Transformation with Code Pattern

This section describes how to create a new transformation with the code pattern.

First, click **Transformations** on the project menu.

Then click **New Transformation** to create a new transformation.

{: .image-popup}
![Screenshot -- Transformations page](/transformations/code-patterns/overview-1-intro.png)

In the modal click on the selected **type of the transformation**.

{: .image-popup}
![Screenshot -- Add new transformation modal](/transformations/code-patterns/overview-2-modal.png)

Fill in the **name** and optionally the **description**. 

Then select the code pattern from the **Use predefined code pattern** select box.

If the code pattern is missing in the list, please check whether it supports selected transformation type and is published.

Click the **Create Transformation** button.

{: .image-popup}
![Screenshot -- Select box for code pattern](/transformations/code-patterns/overview-3-new.png)

New transformation has been created and you can see its configuration.

You can now fill in the [Parameters Form](#parameters-form) and click on the **Generate Code** button.

Follow the instructions at the top of the configuration page.

## Configuration

{: .image-popup}
![Screenshot -- Code pattern user interface](/transformations/code-patterns/overview-4-ui.png)

The user interface of the configuration consists of:
1. Instructions, how to set up the code pattern correctly.
2. [Table Input Mapping](https://help.keboola.com/transformations/mappings/#table-input-mapping)
3. [Table Output Mapping](https://help.keboola.com/transformations/mappings/#table-output-mapping)
4. [Parameters Form](#parameters-form) of the code pattern.
5. **Generate Code** button.
6. Read-only [generated code](#generated-code).

### Input and Output Mapping

Table [Input](https://help.keboola.com/transformations/mappings/#table-input-mapping) 
and [Output](https://help.keboola.com/transformations/mappings/#table-output-mapping) mapping can be created:
- **manually** as in ordinary transformations.
- **automatically** generated together with the code, if the component supports it.

Follow the instructions at the top of the configuration page.

Below you can see an example mapping. It was generated by the `Snapshot - SCD` code pattern.

{: .image-popup}
![Screenshot -- Input / Output mapping](/transformations/code-patterns/overview-7-mapping.png)

### Parameters Form

The parameters determine the content of the generated code.
The form is generated dynamically based on the component specification in the [Keboola Developer Portal](https://components.keboola.com/components).
Remember to save your changes.

{: .image-popup}
![Screenshot -- Parameters](/transformations/code-patterns/overview-5-parameters.png)

### Generated Code

Generated code is read only, cannot be adjusted manually.
It is (re)generated by clicking on the button. 
After clicking, the [Generate Action](/transformations/code-patterns/interface#generate-action) 
is called on the code pattern component with the actual parameters. The result is then saved and displayed.

{: .image-popup}
![Screenshot -- Generated Code](/transformations/code-patterns/overview-6-code.png)

After the code has been generated, you can [run the job](https://help.keboola.com/management/jobs/#running-jobs) in the standard way.

